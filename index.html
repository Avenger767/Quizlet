
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sim Tech Training</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #f0f4f8, #d9e2ec);
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 800px;
      margin: 60px auto;
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
    }
    h1, h2 { text-align: center; }
    label { display: block; margin-bottom: 8px; }
    button {
      margin-top: 20px;
      padding: 12px 20px;
      font-size: 16px;
      background-color: #007acc;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover { background-color: #005fa3; }
    .hidden { display: none; }
    .correct { color: green; font-weight: bold; }
    .incorrect { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <div class="container" id="start">
    <h1>Sim Tech Training</h1>
    <p>Enter your name to begin:</p>
    <input id="username" placeholder="Your name" style="width:100%; padding:10px; font-size:16px;">
    <button onclick="startInterfaceQuiz()">Start</button>
  </div>

  <div class="container hidden" id="interfaceQuiz"></div>
  <div class="container hidden" id="motionQuiz"></div>
  <div class="container hidden" id="summaryPage">
    <h2>Training Summary</h2>
    <p>Thank you, <span id="summaryUser"></span>!</p>
    <p>Your total score: <span id="summaryScore"></span></p>
    <button onclick="window.location.reload()">Restart</button>
  </div>

  <script>
    const interfaceQuiz = [
      { q: "What is the primary function of the MPIC system in a simulator?", a: 0, options: ["Interface cockpit hardware with simulation software", "Control simulator temperature", "Provide power to the instructor station", "Store pilot profiles"] },
      { q: "All MPICs share the same power supply within a chassis?", a: 0, options: ["True", "False"] },
      { q: "Which of the following is not a standard signal type handled by the MPIC?", a: 1, options: ["Discrete Output", "Biometric Feed", "Analog Output", "Discrete Input"] },
      { q: "Each MPIC card has its own network cable?", a: 1, options: ["True", "False"] },
      { q: "In the MPIC architecture, what role does a Daughter Board (DB) serve?", a: 0, options: ["To expand the input/output and communication capabilities of a MPIC card depending on the aircraft system requirements.", "To power the MPIC card", "To serve as the main processing unit of the aircraft.", "To act as an emergency backup power source for critical systems."] },
      { q: "Are MPIC cards capable of being hot-swapped while power is still on?", a: 0, options: ["Yes, they can be hot-swapped.", "No, they must be powered off first."] },
      { q: "Which software application is used to interface with the MPICs?", a: 2, options: ["SIMEX", "Launchpad", "OneUI", "DBManager"] },
      { q: "Which two utilities within OneUI are used for monitoring the MPIC interface?", a: 0, options: ["Sim Readiness and Interface Manager", "Network Analyzer and System Dashboard", "Performance Tracker and Event Logger", "Data Visualizer and System Monitor"] },
      { q: "Launchpad application is used to perform panel calibration.", a: 1, options: ["True", "False", "Sometimes"] },
      { q: "What is the main power supply voltage for MPIC operation?", a: 2, options: ["5V DC", "115V AC", "28V DC", "400V AC"] },
      { q: "Which module in OneUI provides calibration capability for signals?", a: 3, options: ["Launchpad", "Simulation manager", "Sim Readiness", "Interface Manager"] },
      { q: "What card information can found in OneUI for any MPIC? All that apply", correct: ["0", "1", "2", "3", "4", "5", "6"], options: ["Part number", "Serial number", "Cable number", "Number of relays", "Daughterboard", "Schematics", "Location"], multi: true }
    ];

    const motionQuiz = [
      { q: "What happens if you remove the EtherCAT secros cable at a drive?", a: 2, options: ["The GUI freezes", "Nothing changes", "A communication fault occurs", "The system powers off"] },
      { q: "What software application is used to interface with motion system and view error codes?", a: 2, options: ["Launchpad", "jDFC", "MCLogic", "CTS+"] }
    ];

    function startInterfaceQuiz() {
      const name = document.getElementById("username").value.trim();
      if (!name) return alert("Enter your name.");
      localStorage.setItem("quizUser", name);
      document.getElementById("start").classList.add("hidden");
      renderQuiz("interfaceQuiz", interfaceQuiz, score => {
        localStorage.setItem("interfaceScore", score);
        localStorage.setItem("interfaceTotal", interfaceQuiz.length);
        document.getElementById("interfaceQuiz").classList.add("hidden");
        renderQuiz("motionQuiz", motionQuiz, finishAll);
      });
    }

    function renderQuiz(id, questions, onSubmit) {
      const box = document.getElementById(id);
      box.innerHTML = `<h2>${id === 'interfaceQuiz' ? 'Interface Quiz' : 'Motion Quiz'}</h2>`;
      questions.forEach((q, i) => {
        const wrap = document.createElement("div");
        wrap.innerHTML = `<p><strong>${i + 1}. ${q.q}</strong></p>` +
          q.options.map((opt, j) => {
            const inputType = q.multi ? "checkbox" : "radio";
            return `<label><input type="${inputType}" name="q${i}" value="${j}"> ${opt}</label>`;
          }).join("");
        box.appendChild(wrap);
      });
      const button = document.createElement("button");
      button.textContent = "Submit Quiz";
      button.onclick = () => {
        let score = 0;
        questions.forEach((q, i) => {
          const selected = [...document.querySelectorAll(`[name='q${i}']:checked`)].map(el => el.value);
          const isCorrect = q.multi
            ? selected.sort().toString() === q.correct.sort().toString()
            : selected[0] === q.a?.toString();
          if (isCorrect) score++;
        });
        onSubmit(score);
      };
      box.appendChild(button);
      box.classList.remove("hidden");
    }

    function finishAll(motionScore) {
      const motionTotal = motionQuiz.length;
      localStorage.setItem("motionScore", motionScore);
      localStorage.setItem("motionTotal", motionTotal);

      const name = localStorage.getItem("quizUser") || "User";
      const totalScore = (parseInt(localStorage.getItem('interfaceScore')) || 0) + motionScore;
      const totalTotal = (parseInt(localStorage.getItem('interfaceTotal')) || 0) + motionTotal;

      document.getElementById("motionQuiz").classList.add("hidden");
      document.getElementById("summaryUser").textContent = name;
      document.getElementById("summaryScore").textContent = `${totalScore} / ${totalTotal}`;
      document.getElementById("summaryPage").classList.remove("hidden");
    }
  </script>
</body>
</html>
